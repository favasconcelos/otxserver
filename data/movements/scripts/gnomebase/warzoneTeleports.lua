local teleGnome = {
  {posCrystal = {x = 32803, y = 31798, z = 9}, posGo = {x = 32626, y = 31863, z = 11}, needItem = false, idItem = 18457}, -- do crystal de gnome base para kazordon
  {posCrystal = {x = 32628, y = 31863, z = 11}, posGo = {x = 32804, y = 31797, z = 9}, needItem = false, idItem = 18457}, -- do crystal de kazordon para gnome base
  {posCrystal = {x = 32772, y = 31776, z = 9}, posGo = {x = 32402, y = 32817, z = 6}, needItem = false, idItem = 18457}, -- do crystal de gnome base para liberty bay
  {posCrystal = {x = 32403, y = 32818, z = 6}, posGo = {x = 32774, y = 31775, z = 9}, needItem = false, idItem = 18457}, -- do crystal de liberty bay para gnome base
  {posCrystal = {x = 32786, y = 31754, z = 9}, posGo = {x = 32194, y = 31183, z = 8}, needItem = false, idItem = 18457}, -- do crystal de gnome base para svargrond
  {posCrystal = {x = 32196, y = 31183, z = 8}, posGo = {x = 32787, y = 31755, z = 9}, needItem = false, idItem = 18457}, -- do crystal de svargrond para gnome base
  {posCrystal = {x = 32827, y = 31757, z = 9}, posGo = {x = 33185, y = 32384, z = 8}, needItem = false, idItem = 18457}, -- do crystal de gnome base para darashia
  {posCrystal = {x = 33187, y = 32384, z = 8}, posGo = {x = 32826, y = 31759, z = 9}, needItem = false, idItem = 18457}, -- do crystal de darashia para gnome base
  {posCrystal = {x = 32831, y = 31797, z = 9}, posGo = {x = 33153, y = 31832, z = 10}, needItem = false, idItem = 18457}, -- do crystal de gnome base para edron
  {posCrystal = {x = 33154, y = 31834, z = 10}, posGo = {x = 32830, y = 31796, z = 9}, needItem = false, idItem = 18457}, -- do crystal de edron para gnome base
  {posCrystal = {x = 32805, y = 31743, z = 9}, posGo = {x = 32331, y = 32173, z = 9}, needItem = false, idItem = 18457}, -- do crystal de gnome base para thais
  {posCrystal = {x = 32330, y = 32173, z = 9}, posGo = {x = 32806, y = 31745, z = 9}, needItem = false, idItem = 18457}, -- do crystal de thais para gnome base
  {posCrystal = {x = 32796, y = 31780, z = 10}, posGo = {x = 32985, y = 31862, z = 9}, needItem = false, idItem = 18457}, -- do crystal de gnome base para gnome alpha
  {posCrystal = {x = 32986, y = 31861, z = 9}, posGo = {x = 32796, y = 31779, z = 10}, needItem = false, idItem = 18457}, -- do crystal de gnome alpha para gnome base
  {
    posCrystal = {x = 32795, y = 31761, z = 10},
    posGo = {x = 33000, y = 31870, z = 13},
    needItem = false,
    idItem = 18457
  }, -- do crystal de gnome base para crystal ground
  {
    posCrystal = {x = 33000, y = 31871, z = 13},
    posGo = {x = 32795, y = 31762, z = 10},
    needItem = false,
    idItem = 18457
  }, -- do crystal de crystal ground para gnome base
  {
    posCrystal = {x = 32803, y = 31745, z = 10},
    posGo = {x = 32864, y = 31844, z = 11},
    needItem = false,
    idItem = 18457
  }, -- do crystal de gnome base para truffels garden
  {
    posCrystal = {x = 32864, y = 31845, z = 11},
    posGo = {x = 32803, y = 31746, z = 10},
    needItem = false,
    idItem = 18457
  }, -- do crystal de truffels garden para gnome base
  {posCrystal = {x = 33013, y = 31880, z = 9}, posGo = {x = 32996, y = 31922, z = 10}, needItem = false, idItem = 18457}, -- do crystal de Gnome alpha para WARZONE 1
  {posCrystal = {x = 32996, y = 31923, z = 10}, posGo = {x = 33013, y = 31881, z = 9}, needItem = false, idItem = 18457}, -- do crystal de WARZONE 1 para Gnome alpha
  {
    posCrystal = {x = 33003, y = 31918, z = 10},
    posGo = {x = 33008, y = 31922, z = 10},
    needItem = false,
    idItem = 18457
  }, -- do crystal de WARZONE 1 DENTRO para WARZONE 1 FORA
  {
    posCrystal = {x = 33007, y = 31921, z = 10},
    posGo = {x = 33002, y = 31918, z = 10},
    needItem = false,
    idItem = 18457
  }, -- do crystal de WARZONE 1 FORA para WARZONE 1 DENTRO
  {posCrystal = {x = 33019, y = 31886, z = 9}, posGo = {x = 33011, y = 31943, z = 11}, needItem = false, idItem = 18457}, -- do crystal de Gnome alpha para WARZONE 2
  {posCrystal = {x = 33011, y = 31944, z = 11}, posGo = {x = 33019, y = 31887, z = 9}, needItem = false, idItem = 18457}, -- do crystal de WARZONE 2 para Gnome alpha
  {
    posCrystal = {x = 33011, y = 31936, z = 11},
    posGo = {x = 33014, y = 31934, z = 11},
    needItem = false,
    idItem = 18457
  }, -- do crystal de WARZONE 2 DENTRO para WARZONE 2 FORA
  {
    posCrystal = {x = 33013, y = 31934, z = 11},
    posGo = {x = 33010, y = 31937, z = 11},
    needItem = false,
    idItem = 18457
  }, -- do crystal de WARZONE 2 FORA para WARZONE 2 DENTRO
  {posCrystal = {x = 33022, y = 31902, z = 9}, posGo = {x = 32989, y = 31909, z = 12}, needItem = false, idItem = 18457}, -- do crystal de Gnome alpha para WARZONE 3
  {posCrystal = {x = 32989, y = 31908, z = 12}, posGo = {x = 33021, y = 31902, z = 9}, needItem = false, idItem = 18457}, -- do crystal de WARZONE 3 para Gnome alpha
  {
    posCrystal = {x = 32993, y = 31913, z = 12},
    posGo = {x = 32996, y = 31917, z = 12},
    needItem = false,
    idItem = 18457
  }, -- do crystal de WARZONE 3 DENTRO para WARZONE 3 FORA
  {
    posCrystal = {x = 32995, y = 31916, z = 12},
    posGo = {x = 32992, y = 31912, z = 12},
    needItem = false,
    idItem = 18457
  }, -- do crystal de WARZONE 3 FORA para WARZONE 3 DENTRO
  {posCrystal = {x = 32980, y = 31907, z = 9}, posGo = {x = 32905, y = 31893, z = 13}, needItem = false, idItem = 18457}, -- do crystal de gnome alpha para hot spot
  {posCrystal = {x = 32904, y = 31893, z = 13}, posGo = {x = 32979, y = 31906, z = 9}, needItem = false, idItem = 18457}, -- do crystal de hot spot para gnome alpha
  {
    posCrystal = {x = 33104, y = 31909, z = 10},
    posGo = {x = 33103, y = 31959, z = 10},
    needItem = false,
    idItem = 18457
  }, -- do crystal de WARZONE 1 FORA BOSS para WARZONE 1 DENTRO BOSS
  {posCrystal = {x = 33122, y = 31976, z = 10}, posGo = {x = 33000, y = 31899, z = 9}, needItem = false, idItem = 18457}, -- do crystal de WARZONE 1 DENTRO BOSS para GNOME ALPHA
  {
    posCrystal = {x = 33097, y = 31977, z = 11},
    posGo = {x = 33110, y = 31949, z = 11},
    needItem = false,
    idItem = 18457
  }, -- do crystal de WARZONE 2 FORA BOSS para WARZONE 2 DENTRO BOSS
  {posCrystal = {x = 33128, y = 31964, z = 11}, posGo = {x = 33000, y = 31899, z = 9}, needItem = false, idItem = 18457}, -- do crystal de WARZONE 2 DENTRO BOSS para GNOME ALPHA
  {
    posCrystal = {x = 33073, y = 31880, z = 12},
    posGo = {x = 33083, y = 31905, z = 12},
    needItem = false,
    idItem = 18457
  }, -- do crystal de WARZONE 3 FORA BOSS para WARZONE 3 DENTRO BOSS
  {posCrystal = {x = 33098, y = 31911, z = 12}, posGo = {x = 33000, y = 31899, z = 9}, needItem = false, idItem = 18457} -- do crystal de WARZONE 3 DENTRO BOSS para GNOME ALPHA
}

function onStepIn(cid, item, position, fromPosition)
  if isPlayer(cid) then
    local posPlayer = position
    for i = 1, #teleGnome do
      if
        teleGnome[i].posCrystal.x == posPlayer.x and teleGnome[i].posCrystal.y == posPlayer.y and
          teleGnome[i].posCrystal.z == posPlayer.z
       then
        if teleGnome[i].needItem then
          if doPlayerRemoveItem(cid, teleGnome[i].idItem, 1) then
            doTeleportThing(cid, teleGnome[i].posGo)
            doSendMagicEffect(teleGnome[i].posGo, 10)
          else
            doTeleportThing(cid, fromPosition, true)
            doPlayerSendCancel(cid, "You don't have one teleport crystal.")
          end
        else
          doTeleportThing(cid, teleGnome[i].posGo)
          doSendMagicEffect(teleGnome[i].posGo, 10)
        end
      end
    end
  end
  return true
end
